<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>insightful.io Helper</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      min-width: 420px; /* Made wider to accommodate new columns */
      padding: 5px 15px;
      text-align: left; /* Align most text to left for readability */
      background-color: #f9f9f9; /* Light gray background */
      color: #333; /* Dark gray text color */
    }
    h3#popupTitle {
      color: #5e35b1; /* Deep purple for title - approximating Insightful's purple */
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 5px;
      text-align: center;
    }
    #userName {
      font-size: 13px;
      color: #424242; /* Slightly lighter dark gray */
      margin-bottom: 15px;
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      background-color: #fff; /* White background for table */
      box-shadow: 0 1px 3px rgba(0,0,0,0.1); /* Subtle shadow for depth */
      border-radius: 4px; /* Rounded corners for table */
      overflow: hidden; /* Ensures border-radius clips content */
    }
    th, td {
      border: 1px solid #e0e0e0; /* Lighter gray borders */
      padding: 8px 10px; /* Adjusted padding */
      text-align: left;
      font-size: 12px;
      white-space: nowrap; /* Prevent text wrapping */
    }
    th {
      background-color: #f5f5f5; /* Very light gray for headers */
      color: #5e35b1; /* Purple for header text */
      font-weight: 600;
    }
    td:nth-child(2), td:nth-child(3), td:nth-child(4), td:nth-child(5) { /* Align time values to the right */
        text-align: right;
    }
    .loading {
      margin-top: 25px;
      font-size: 15px;
      color: #555;
      text-align: center;
    }
    .error {
      margin-top: 20px;
      color: #c62828; /* Darker red for errors */
      background-color: #ffcdd2; /* Light red background for error message */
      padding: 10px;
      border-radius: 4px;
      font-size: 13px;
      text-align: center;
    }
    .hidden {
      display: none;
    }
    #openDashboardButtonContainer {
      text-align: center;
      margin-top: 15px; /* Adjusted margin */
      margin-bottom: 10px; /* Added margin below button */
    }
    #openDashboardLink {
      display: inline-block; /* To apply padding and other block-level styles */
      background-color: #5e35b1; /* Purple background */
      color: #ffffff; /* White text */
      padding: 8px 16px; /* Padding for button feel */
      text-decoration: none;
      font-weight: 500;
      font-size: 13px;
      border-radius: 4px; /* Rounded corners */
      transition: background-color 0.2s ease-in-out; /* Smooth hover transition */
    }
    #openDashboardLink:hover {
      background-color: #4527a0; /* Darker purple on hover */
    }
    #lastUpdatedTime {
      font-size: 11px;
      color: #757575;
      margin-top: 10px; /* Adjusted margin */
      text-align: center;
    }
    .progress-container {
      width: 60px;
      height: 8px;
      background-color: #e0e0e0;
      border-radius: 4px;
      margin: 2px auto;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      background-color: #5e35b1;
      border-radius: 4px;
      transition: width 0.3s ease;
    }
    .progress-cell {
      text-align: center;
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <h3 id="popupTitle">Insightful.io Stats</h3>
  <div id="userName">-</div>

  <div id="loading" class="loading">
    Loading data...
  </div>

  <table id="utilizationTable" class="hidden">
    <thead>
      <tr>
        <th>Period</th>
        <th>Work Time</th>
        <th>Idle Time</th>
        <th>Total</th>
        <th>Progress</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Today</td>
        <td id="todayWork">-</td>
        <td id="todayIdle">-</td>
        <td id="todayTotal">-</td>
        <td id="todayProgress" class="progress-cell">-</td>
      </tr>
      <tr>
        <td>Yesterday</td>
        <td id="yesterdayWork">-</td>
        <td id="yesterdayIdle">-</td>
        <td id="yesterdayTotal">-</td>
        <td id="yesterdayProgress" class="progress-cell">-</td>
      </tr>
      <tr>
        <td>This Week</td>
        <td id="weekWork">-</td>
        <td id="weekIdle">-</td>
        <td id="weekTotal">-</td>
        <td id="weekProgress" class="progress-cell">-</td>
      </tr>
      <tr>
        <td>Last Week</td>
        <td id="lastWeekWork">-</td>
        <td id="lastWeekIdle">-</td>
        <td id="lastWeekTotal">-</td>
        <td id="lastWeekProgress" class="progress-cell">-</td>
      </tr>
      <tr>
        <td>This Month</td>
        <td id="monthWork">-</td>
        <td id="monthIdle">-</td>
        <td id="monthTotal">-</td>
        <td id="monthProgress" class="progress-cell">-</td>
      </tr>
      <tr>
        <td>Last Month</td>
        <td id="lastMonthWork">-</td>
        <td id="lastMonthIdle">-</td>
        <td id="lastMonthTotal">-</td>
        <td id="lastMonthProgress" class="progress-cell">-</td>
      </tr>
    </tbody>
  </table>

  <div id="errorMessage" class="error hidden">
    <!-- Error messages will be displayed here -->
  </div>

  <div id="openDashboardButtonContainer">
    <a href="#" id="openDashboardLink">Open Dashboard</a>
  </div>
  
  <div id="lastUpdatedTime"></div>

</body>
<script src="popup.js"></script>
</html> 